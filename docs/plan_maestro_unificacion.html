<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plan Maestro Unificaci√≥n Qodeia</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: linear-gradient(135deg, #0a0e1a 0%, #1a1f3a 50%, #0a0e1a 100%);
      color: #e2e8f0;
      padding: 2rem;
      line-height: 1.6;
    }
    .container { max-width: 1600px; margin: 0 auto; }
    
    h1 {
      text-align: center;
      font-size: 3rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #ec4899 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient 3s ease infinite;
    }
    
    .subtitle {
      text-align: center;
      color: #94a3b8;
      font-size: 1.2rem;
      margin-bottom: 3rem;
    }
    
    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }
    
    .status-card {
      background: rgba(30, 41, 59, 0.7);
      border: 2px solid;
      border-radius: 12px;
      padding: 1.5rem;
      backdrop-filter: blur(10px);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .status-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    
    .status-card.error { border-color: #ef4444; }
    .status-card.warning { border-color: #f59e0b; }
    .status-card.success { border-color: #22c55e; }
    .status-card.info { border-color: #3b82f6; }
    
    .status-card h3 {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    
    .status-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    .error .status-icon { background: #ef4444; }
    .warning .status-icon { background: #f59e0b; }
    .success .status-icon { background: #22c55e; }
    .info .status-icon { background: #3b82f6; }
    
    .section {
      background: rgba(30, 41, 59, 0.7);
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      backdrop-filter: blur(10px);
    }
    
    .section h2 {
      color: #60a5fa;
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .architecture-diagram {
      background: white;
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
    }
    
    .timeline {
      position: relative;
      padding-left: 3rem;
    }
    
    .timeline::before {
      content: '';
      position: absolute;
      left: 1rem;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
    }
    
    .phase {
      position: relative;
      margin-bottom: 2rem;
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid #475569;
      border-radius: 8px;
      padding: 1.5rem;
    }
    
    .phase::before {
      content: '';
      position: absolute;
      left: -2.5rem;
      top: 1.5rem;
      width: 1rem;
      height: 1rem;
      border-radius: 50%;
      background: #3b82f6;
      border: 3px solid #0a0e1a;
    }
    
    .phase.active::before { background: #22c55e; animation: pulse 2s infinite; }
    
    .phase h3 {
      color: #7dd3fc;
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    
    .step {
      background: rgba(15, 23, 42, 0.6);
      border-left: 3px solid #3b82f6;
      padding: 1rem;
      margin: 0.75rem 0;
      border-radius: 4px;
    }
    
    .step h4 {
      color: #60a5fa;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }
    
    .code-block {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
      position: relative;
    }
    
    .code-block pre {
      color: #22d3ee;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      line-height: 1.6;
    }
    
    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: #334155;
      border: none;
      color: #94a3b8;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.3s;
    }
    
    .copy-btn:hover {
      background: #475569;
      color: #e2e8f0;
    }
    
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 1rem 0;
    }
    
    .card {
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid #475569;
      border-radius: 8px;
      padding: 1.5rem;
    }
    
    .card h3 {
      color: #7dd3fc;
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    
    .card ul {
      list-style: none;
      padding: 0;
    }
    
    .card li {
      padding: 0.5rem 0;
      color: #cbd5e1;
      font-size: 0.95rem;
      display: flex;
      align-items: start;
      gap: 0.5rem;
    }
    
    .card li::before {
      content: "‚Üí";
      color: #60a5fa;
      font-weight: bold;
      flex-shrink: 0;
    }
    
    .alert {
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
      border-left: 4px solid;
    }
    
    .alert-error {
      background: rgba(239, 68, 68, 0.1);
      border-color: #ef4444;
      color: #fecaca;
    }
    
    .alert-warning {
      background: rgba(245, 158, 11, 0.1);
      border-color: #f59e0b;
      color: #fde68a;
    }
    
    .alert-success {
      background: rgba(34, 197, 94, 0.1);
      border-color: #22c55e;
      color: #bbf7d0;
    }
    
    .alert-info {
      background: rgba(59, 130, 246, 0.1);
      border-color: #3b82f6;
      color: #bfdbfe;
    }
    
    .file-tree {
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      line-height: 1.8;
      color: #94a3b8;
    }
    
    .file-tree .dir { color: #60a5fa; font-weight: bold; }
    .file-tree .file { color: #cbd5e1; }
    .file-tree .important { color: #22c55e; font-weight: bold; }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
    
    @keyframes gradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .checklist {
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 1rem 0;
    }
    
    .checklist-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem;
      margin: 0.5rem 0;
      background: rgba(30, 41, 59, 0.5);
      border-radius: 6px;
      transition: background 0.3s;
    }
    
    .checklist-item:hover {
      background: rgba(30, 41, 59, 0.8);
    }
    
    .checkbox {
      width: 20px;
      height: 20px;
      border: 2px solid #475569;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .checkbox.checked {
      background: #22c55e;
      border-color: #22c55e;
    }
    
    @media (max-width: 768px) {
      .grid-2 { grid-template-columns: 1fr; }
      .status-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üß† Plan Maestro de Unificaci√≥n</h1>
    <p class="subtitle">Ecosistema Qodeia Completo: Cerebro Artificial + Web + Dashboard</p>

    <!-- Estado Actual -->
    <div class="status-grid">
      <div class="status-card error">
        <h3><span class="status-icon">‚úó</span> proyecto-ama-intent</h3>
        <ul style="list-style:none; padding:0; color:#fecaca;">
          <li>‚Ä¢ Error Rate: 100%</li>
          <li>‚Ä¢ SQLite no funciona en Vercel</li>
          <li>‚Ä¢ Variables de entorno faltantes</li>
          <li>‚Ä¢ PYTHONPATH incorrecto</li>
        </ul>
      </div>
      
      <div class="status-card warning">
        <h3><span class="status-icon">‚ö†</span> Repositorio qodeia</h3>
        <ul style="list-style:none; padding:0; color:#fde68a;">
          <li>‚Ä¢ Supabase configurado pero no usado</li>
          <li>‚Ä¢ Sin integraci√≥n con AMA-Intent</li>
          <li>‚Ä¢ Frontend y backend separados</li>
          <li>‚Ä¢ No hay widget de IA en la web</li>
        </ul>
      </div>
      
      <div class="status-card info">
        <h3><span class="status-icon">‚Ñπ</span> Componentes Existentes</h3>
        <ul style="list-style:none; padding:0; color:#bfdbfe;">
          <li>‚Ä¢ Next.js + TypeScript (frontend)</li>
          <li>‚Ä¢ FastAPI + Python (backend)</li>
          <li>‚Ä¢ Cortex Engine (AMA)</li>
          <li>‚Ä¢ MiniMax API (voz)</li>
        </ul>
      </div>
      
      <div class="status-card success">
        <h3><span class="status-icon">‚úì</span> Objetivo Final</h3>
        <ul style="list-style:none; padding:0; color:#bbf7d0;">
          <li>‚Ä¢ Monorepo unificado</li>
          <li>‚Ä¢ Supabase como √∫nica DB</li>
          <li>‚Ä¢ Deploy autom√°tico</li>
          <li>‚Ä¢ Widget IA integrado</li>
        </ul>
      </div>
    </div>

    <!-- Arquitectura Final -->
    <div class="section">
      <h2>üèóÔ∏è Arquitectura Final Unificada</h2>
      <div class="architecture-diagram">
        <div class="mermaid">
graph TB
    subgraph "Usuario Final"
        USER[üë§ Usuario]
    end
    
    subgraph "Frontend - qodeia.com"
        WEB[Next.js Web App]
        WIDGET[AMA Widget<br/>Voz + Chat]
        DASH[Dashboard Admin]
    end
    
    subgraph "Backend API - Vercel"
        GATEWAY[API Gateway<br/>FastAPI]
        CORTEX[Cortex Engine<br/>Procesamiento IA]
        AUDIO[Audio Service<br/>MiniMax]
        PLUGINS[Plugin System<br/>Extensible]
        AUTH[Auth Service]
    end
    
    subgraph "Data Layer - Supabase"
        PGDB[(PostgreSQL<br/>Knowledge Graph)]
        STORAGE[(File Storage<br/>Media)]
        REALTIME[Realtime<br/>WebSockets]
        EDGE[Edge Functions]
    end
    
    subgraph "Admin Tools"
        APPSMITH[Appsmith<br/>Internal Dashboard]
    end
    
    USER --> WEB
    USER --> WIDGET
    WEB --> GATEWAY
    WIDGET --> GATEWAY
    DASH --> GATEWAY
    
    GATEWAY --> CORTEX
    GATEWAY --> AUTH
    CORTEX --> AUDIO
    CORTEX --> PLUGINS
    
    CORTEX --> PGDB
    AUTH --> PGDB
    PLUGINS --> PGDB
    AUDIO --> STORAGE
    
    WIDGET --> REALTIME
    EDGE --> CORTEX
    
    APPSMITH --> PGDB
    
    style USER fill:#ec4899,stroke:#be185d,color:#fff
    style WEB fill:#3b82f6,stroke:#1e40af,color:#fff
    style CORTEX fill:#8b5cf6,stroke:#6d28d9,color:#fff
    style PGDB fill:#22c55e,stroke:#16a34a,color:#fff
    style AUDIO fill:#f59e0b,stroke:#d97706,color:#fff
        </div>
      </div>
    </div>

    <!-- Estructura del Monorepo -->
    <div class="section">
      <h2>üìÅ Estructura del Monorepo Unificado</h2>
      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
        <pre class="file-tree"><span class="dir">qodeia/</span>                              # Repo principal
‚îú‚îÄ‚îÄ <span class="dir">apps/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">web/</span>                            # Next.js (qodeia.com)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">app/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">components/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="important">AMAWidget.tsx</span>         # Widget integrado
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">package.json</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">dashboard/</span>                      # Admin panel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">...</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ <span class="dir">api/</span>                            # Backend FastAPI
‚îÇ       ‚îú‚îÄ‚îÄ <span class="important">main.py</span>                    # Entry point
‚îÇ       ‚îú‚îÄ‚îÄ <span class="dir">routers/</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">chat.py</span>
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">voice.py</span>
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">admin.py</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="important">requirements.txt</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="dir">packages/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">ama-intent/</span>                    # Cerebro IA (migrado)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">cortex/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">engine.py</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">memory.py</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">plugins/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">base.py</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">registry.py</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="dir">services/</span>
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ <span class="file">audio_service.py</span>
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">llm_service.py</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ <span class="dir">shared-types/</span>                  # TypeScript types
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">index.ts</span>
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ <span class="dir">ui-components/</span>                 # React components
‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">...</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="dir">supabase/</span>                           # Database config
‚îÇ   ‚îú‚îÄ‚îÄ <span class="important">migrations/</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">001_initial_schema.sql</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">config.toml</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="dir">.github/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="dir">workflows/</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="important">deploy-production.yml</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="file">test.yml</span>
‚îÇ
‚îú‚îÄ‚îÄ <span class="important">vercel.json</span>                      # Config unificada
‚îú‚îÄ‚îÄ <span class="important">.env.example</span>
‚îî‚îÄ‚îÄ <span class="file">README.md</span></pre>
      </div>
    </div>

    <!-- Timeline de Implementaci√≥n -->
    <div class="section">
      <h2>‚è±Ô∏è Timeline de Implementaci√≥n (8 horas)</h2>
      <div class="timeline">
        <div class="phase active">
          <h3>FASE 1: Preparaci√≥n (1h)</h3>
          <div class="step">
            <h4>1.1 Crear Proyecto Supabase</h4>
            <p style="color:#94a3b8; font-size:0.9rem;">Crear base de datos PostgreSQL centralizada</p>
            <div class="code-block">
              <pre>Nombre: qodeia-unified
Regi√≥n: South America (S√£o Paulo)
Plan: Free (para empezar)</pre>
            </div>
          </div>
          
          <div class="step">
            <h4>1.2 Backup de Datos Actuales</h4>
            <div class="code-block">
              <pre>cd proyecto-ama-intent
sqlite3 backend/data/qodeia.db .dump > backup_$(date +%Y%m%d).sql
git checkout -b monorepo-migration</pre>
            </div>
          </div>
          
          <div class="step">
            <h4>1.3 Crear Estructura Base</h4>
            <div class="code-block">
              <pre>cd ../qodeia
mkdir -p apps/api packages/ama-intent
git checkout -b integrate-ama-intent</pre>
            </div>
          </div>
        </div>

        <div class="phase">
          <h3>FASE 2: Migraci√≥n de Base de Datos (1.5h)</h3>
          <div class="step">
            <h4>2.1 Ejecutar Schema SQL en Supabase</h4>
            <div class="alert alert-info">
              Ve a Supabase ‚Üí SQL Editor ‚Üí New Query
            </div>
            <div class="code-block">
              <pre>-- Schema completo en Supabase
CREATE EXTENSION IF NOT EXISTS vector;

-- Tabla: Knowledge Graph (del Cortex)
CREATE TABLE knowledge_graph (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  node_id TEXT UNIQUE NOT NULL,
  node_type TEXT NOT NULL,
  content JSONB,
  relations JSONB DEFAULT '[]'::jsonb,
  embeddings VECTOR(1536),
  metadata JSONB,
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Tabla: Usuarios (Web principal)
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  avatar_url TEXT,
  role TEXT DEFAULT 'user',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Tabla: Conversaciones
CREATE TABLE conversations (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  title TEXT,
  messages JSONB NOT NULL DEFAULT '[]'::jsonb,
  metadata JSONB,
  started_at TIMESTAMPTZ DEFAULT NOW(),
  last_activity TIMESTAMPTZ DEFAULT NOW()
);

-- Tabla: Credenciales Cifradas
CREATE TABLE credentials (
  service_name TEXT PRIMARY KEY,
  encrypted_data BYTEA NOT NULL,
  encryption_method TEXT DEFAULT 'AES-256-GCM',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Tabla: Logs del Sistema
CREATE TABLE system_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  timestamp TIMESTAMPTZ DEFAULT NOW(),
  level TEXT NOT NULL,
  service TEXT NOT NULL,
  message TEXT,
  metadata JSONB
);

-- √çndices
CREATE INDEX idx_kg_node_id ON knowledge_graph(node_id);
CREATE INDEX idx_kg_type ON knowledge_graph(node_type);
CREATE INDEX idx_conversations_user ON conversations(user_id);
CREATE INDEX idx_logs_timestamp ON system_logs(timestamp DESC);

-- RLS Policies
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE conversations ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users read own data" ON users
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY "Users own conversations" ON conversations
  FOR ALL USING (auth.uid() = user_id);</pre>
            </div>
          </div>
          
          <div class="step">
            <h4>2.2 Migrar Datos de SQLite</h4>
            <div class="code-block">
              <pre># Crear script de migraci√≥n
cat > migrate_to_supabase.py << 'EOF'
import os
import sqlite3
from sqlalchemy import create_engine, text
from dotenv import load_dotenv

load_dotenv()

# Configuraci√≥n
SQLITE_DB = '../proyecto-ama-intent/backend/data/qodeia.db'
SUPABASE_URL = os.getenv('DATABASE_URL')

if not os.path.exists(SQLITE_DB):
    print("No hay DB SQLite para migrar")
    exit(0)

# Conectar
sqlite_conn = sqlite3.connect(SQLITE_DB)
pg_engine = create_engine(SUPABASE_URL)

# Migrar knowledge_graph
print("Migrando knowledge_graph...")
cursor = sqlite_conn.execute("SELECT * FROM knowledge_graph")
rows = cursor.fetchall()
columns = [desc[0] for desc in cursor.description]

with pg_engine.connect() as conn:
    for row in rows:
        data = dict(zip(columns, row))
        conn.execute(text("""
            INSERT INTO knowledge_graph (node_id, node_type, content, relations, metadata)
            VALUES (:node_id, :node_type, :content, :relations, :metadata)
            ON CONFLICT (node_id) DO NOTHING
        """), data)
    conn.commit()

print(f"‚úì Migrados {len(rows)} nodos")
sqlite_conn.close()
EOF

python migrate_to_supabase.py</pre>
            </div>
          </div>
        </div>

        <div class="phase">
          <h3>FASE 3: Integraci√≥n del C√≥digo (2h)</h3>
          <div class="step">
            <h4>3.1 Mover AMA-Intent al Monorepo</h4>
            <div class="code-block">
              <pre># Copiar el c√≥digo del cerebro
cp -r ../proyecto-ama-intent/backend/* packages/ama-intent/

# Estructura resultante:
# packages/ama-intent/
#   ‚îú‚îÄ‚îÄ cortex/
#   ‚îú‚îÄ‚îÄ plugins/
#   ‚îú‚îÄ‚îÄ services/
#   ‚îî‚îÄ‚îÄ data/</pre>
            </div>
          </div>
          
          <div class="step">
            <h4>3.2 Crear API Unificada</h4>
            <div class="code-block">
              <pre># apps/api/main.py
from fastapi import FastAPI, UploadFile, Depends
from fastapi.middleware.cors import CORSMiddleware
import sys
sys.path.append('../../packages/ama-intent')

from cortex.engine import Cortex
from services.audio_service import AudioService

app = FastAPI(title="Qodeia API")

app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://qodeia.com", "http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Inicializar servicios
cortex = Cortex()
audio_svc = AudioService()

@app.get("/health")
async def health():
    return {"status": "ok", "service": "qodeia-api"}

@a